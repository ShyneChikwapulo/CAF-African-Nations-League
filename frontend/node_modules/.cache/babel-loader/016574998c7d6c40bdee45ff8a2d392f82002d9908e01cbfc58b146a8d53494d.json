{"ast":null,"code":"import _objectSpread from\"/Users/shine/Downloads/african-nations-league/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{teamsAPI,matchesAPI,tournamentAPI,authAPI}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TeamDashboard=()=>{const[team,setTeam]=useState(null);const[matches,setMatches]=useState([]);const[tournament,setTournament]=useState(null);const[loading,setLoading]=useState(true);const[selectedFormation,setSelectedFormation]=useState('4-4-2');const[startingXI,setStartingXI]=useState([]);const[substitutions,setSubstitutions]=useState([]);useEffect(()=>{fetchTeamData();},[]);useEffect(()=>{if(team&&team.squad){organizeTeamSquad();}},[team,selectedFormation]);const fetchTeamData=async()=>{try{// Get the current user's federation ID from localStorage or API\nconst token=localStorage.getItem('token');if(!token){console.error('No token found');return;}// Get current user info to find their team\nconst userResponse=await authAPI.getMe();const currentUser=userResponse.data;if(!(currentUser!==null&&currentUser!==void 0&&currentUser.federationId)){console.error('No federation found for user');return;}// Get ALL teams to find the one that belongs to this user\nconst[teamsRes,matchesRes,tournamentRes]=await Promise.all([teamsAPI.getAll(),matchesAPI.getAll(),tournamentAPI.getCurrent()]);// Find the team that belongs to the current user's federation\nconst userTeam=teamsRes.data.find(team=>team.representativeId===currentUser.id);if(!userTeam){console.error('No team found for current user');return;}setTeam(userTeam);setTournament(tournamentRes.data);// Filter matches for this specific team\nconst teamMatches=matchesRes.data.filter(match=>match.teamAId===userTeam.id||match.teamBId===userTeam.id);setMatches(teamMatches);}catch(error){console.error('Error fetching team data:',error);}finally{setLoading(false);}};const organizeTeamSquad=()=>{if(!(team!==null&&team!==void 0&&team.squad))return;const squad=[...team.squad];// Sort ALL players by rating (highest first) regardless of position\nsquad.sort((a,b)=>{const ratingA=a.ratings[a.naturalPosition]||0;const ratingB=b.ratings[b.naturalPosition]||0;return ratingB-ratingA;});// Group players by position from the sorted list\nconst goalkeepers=squad.filter(player=>player.naturalPosition==='GK');const defenders=squad.filter(player=>['CB','RB','LB','SW'].includes(player.naturalPosition));const midfielders=squad.filter(player=>['CM','CDM','CAM','RM','LM','RW','LW'].includes(player.naturalPosition));const attackers=squad.filter(player=>['ST','CF'].includes(player.naturalPosition));// Select starting XI based on formation, taking the BEST players from each position\nconst formationMap={'4-4-2':{gk:1,def:4,mid:4,att:2},'4-3-3':{gk:1,def:4,mid:3,att:3},'4-2-3-1':{gk:1,def:4,mid:5,att:1},'3-5-2':{gk:1,def:3,mid:5,att:2}};const formation=formationMap[selectedFormation];// Take the top players from each position group (they're already sorted by rating)\nconst selectedStartingXI=[...goalkeepers.slice(0,formation.gk),...defenders.slice(0,formation.def),...midfielders.slice(0,formation.mid),...attackers.slice(0,formation.att)];// If we don't have enough players for the formation, fill with best available\nif(selectedStartingXI.length<11){const remainingSpots=11-selectedStartingXI.length;const startingPlayerIds=new Set(selectedStartingXI.map(p=>p.id));const bestRemainingPlayers=squad.filter(player=>!startingPlayerIds.has(player.id)).slice(0,remainingSpots);selectedStartingXI.push(...bestRemainingPlayers);}// Add jersey numbers\nconst startingXIWithNumbers=selectedStartingXI.map((player,index)=>_objectSpread(_objectSpread({},player),{},{jerseyNumber:index+1}));// The rest become substitutes - these should be the next best players\nconst startingPlayerIds=new Set(selectedStartingXI.map(p=>p.id));const substitutePlayers=squad.filter(player=>!startingPlayerIds.has(player.id)).slice(0,7)// Maximum 7 substitutes\n.map((player,index)=>_objectSpread(_objectSpread({},player),{},{jerseyNumber:12+index}));setStartingXI(startingXIWithNumbers);setSubstitutions(substitutePlayers);};const getPlayerPositionsForFormation=()=>{const formationPositions={'4-4-2':{gk:[1],def:[2,3,4,5],mid:[6,7,8,9],att:[10,11]},'4-3-3':{gk:[1],def:[2,3,4,5],mid:[6,7,8],att:[9,10,11]},'4-2-3-1':{gk:[1],def:[2,3,4,5],mid:[6,7,8,9,10],att:[11]},'3-5-2':{gk:[1],def:[2,3,4],mid:[5,6,7,8,9],att:[10,11]}};return formationPositions[selectedFormation]||formationPositions['4-4-2'];};const getUpcomingMatches=()=>{return matches.filter(match=>match.status==='scheduled');};const getCompletedMatches=()=>{return matches.filter(match=>match.status==='completed');};const getMatchResult=(match,teamId)=>{if(match.status!=='completed')return'Pending';const isTeamA=match.teamAId===teamId;const scoreA=match.scoreA;const scoreB=match.scoreB;if(isTeamA){return scoreA>scoreB?'Won':scoreA<scoreB?'Lost':'Draw';}else{return scoreB>scoreA?'Won':scoreB<scoreA?'Lost':'Draw';}};const getCountryFlag=countryName=>{const flagMap={'Nigeria':'ðŸ‡³ðŸ‡¬','Egypt':'ðŸ‡ªðŸ‡¬','South Africa':'ðŸ‡¿ðŸ‡¦','Ghana':'ðŸ‡¬ðŸ‡­','Morocco':'ðŸ‡²ðŸ‡¦','Senegal':'ðŸ‡¸ðŸ‡³','Ivory Coast':'ðŸ‡¨ðŸ‡®','Cameroon':'ðŸ‡¨ðŸ‡²'};return flagMap[countryName]||'ðŸ´';};const getPositionAbbreviation=position=>{const positionMap={'GK':'GK','CB':'CB','RB':'RB','LB':'LB','SW':'SW','CDM':'DM','CM':'CM','CAM':'AM','RM':'RM','LM':'LM','RW':'RW','LW':'LW','ST':'ST','CF':'CF'};return positionMap[position]||position;};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4 py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-xl\",children:\"Loading team dashboard...\"})})});}if(!team){return/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-800 mb-4\",children:\"No Team Found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Please register a team to access the dashboard.\"})]})});}const positions=getPlayerPositionsForFormation();return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-lg p-8 mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl\",children:getCountryFlag(team.country)}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-gray-800\",children:team.country}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl text-gray-600\",children:[\"Manager: \",team.manager]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 mt-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-100 text-blue-800 px-3 py-1 rounded-full font-semibold\",children:[\"Rating: \",team.averageRating]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-100 text-green-800 px-3 py-1 rounded-full font-semibold\",children:[team.squad.length,\" Players\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:\"Tournament Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-semibold text-gray-800\",children:tournament?tournament.currentRound:'No Active Tournament'})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow lg:col-span-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4 border-b flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-gray-800\",children:\"Starting XI & Formation\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedFormation,onChange:e=>setSelectedFormation(e.target.value),className:\"border rounded px-3 py-1\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"4-4-2\",children:\"4-4-2\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4-3-3\",children:\"4-3-3\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4-2-3-1\",children:\"4-2-3-1\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3-5-2\",children:\"3-5-2\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-4 text-center\",children:\"STARTING XI\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:startingXI.map(player=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between py-2 border-b\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold w-8\",children:[player.jerseyNumber,\".\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"flex-1 text-sm\",children:player.name}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-600 bg-gray-200 px-2 py-1 rounded\",children:getPositionAbbreviation(player.naturalPosition)})]},player.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-bold mb-2\",children:\"SUBSTITUTIONS\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-2\",children:substitutions.map(player=>/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[player.jerseyNumber,\". \",player.name]},player.id))})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-600 rounded-lg p-4 relative h-96\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"absolute inset-4 border-2 border-white rounded-lg flex flex-col justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-16 h-16 border-2 border-white rounded-full\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1/2 left-0 right-0 border-t-2 border-white\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute inset-0 p-4\",children:[positions.gk.map((number,index)=>{const player=startingXI.find(p=>p.jerseyNumber===number);return/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-2 left-1/2 transform -translate-x-1/2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500 text-white rounded-full w-12 h-12 flex items-center justify-center text-xs font-bold shadow-lg\",children:player?number:number}),player&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-white text-center mt-1 font-semibold bg-black bg-opacity-50 px-1 rounded\",children:player.name.split(' ').pop()})]},number);}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-16 left-0 right-0 flex justify-around\",children:positions.def.map(number=>{const player=startingXI.find(p=>p.jerseyNumber===number);return/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-lg\",children:player?number:number},number);})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-32 left-0 right-0 flex justify-around\",children:positions.mid.map(number=>{const player=startingXI.find(p=>p.jerseyNumber===number);return/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-lg\",children:player?number:number},number);})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-48 left-0 right-0 flex justify-around\",children:positions.att.map(number=>{const player=startingXI.find(p=>p.jerseyNumber===number);return/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-lg\",children:player?number:number},number);})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 text-center text-sm text-gray-600\",children:[\"Formation: \",selectedFormation,\" \\u2022 \",startingXI.length,\"/11 Players Selected\"]})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-gray-800\",children:\"Full Squad\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4 max-h-96 overflow-y-auto\",children:team.squad.map(player=>{const isStarting=startingXI.some(p=>p.id===player.id);const isSubstitute=substitutions.some(p=>p.id===player.id);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border rounded-lg \".concat(isStarting?'bg-blue-50 border-blue-200':isSubstitute?'bg-green-50 border-green-200':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold\",children:getPositionAbbreviation(player.naturalPosition)}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-lg\",children:player.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[player.isCaptain&&'ðŸ‘‘ ',\"Natural \",player.naturalPosition,isStarting&&' â€¢ Starting',isSubstitute&&' â€¢ Substitute']})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-blue-600\",children:player.ratings[player.naturalPosition]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Rating\"})]})]},player.id);})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-gray-800\",children:\"Upcoming Matches\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:getUpcomingMatches().length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-gray-500 py-8\",children:\"No upcoming matches scheduled\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:getUpcomingMatches().map(match=>/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold\",children:match.teamAName}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl\",children:getCountryFlag(match.teamAName)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mx-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:\"VS\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-400 capitalize\",children:match.round})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold\",children:match.teamBName}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl\",children:getCountryFlag(match.teamBName)})]})]})},match.id))})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow lg:col-span-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-gray-800\",children:\"Match History\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:getCompletedMatches().length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-gray-500 py-8\",children:\"No matches played yet\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:getCompletedMatches().map(match=>{const isTeamA=match.teamAId===team.id;const opponent=isTeamA?match.teamBName:match.teamAName;const result=getMatchResult(match,team.id);const resultColor=result==='Won'?'text-green-600':result==='Lost'?'text-red-600':'text-yellow-600';return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 rounded-full flex items-center justify-center font-bold text-white \".concat(result==='Won'?'bg-green-500':result==='Lost'?'bg-red-500':'bg-yellow-500'),children:result.charAt(0)}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-semibold text-lg\",children:[\"vs \",opponent,\" \",getCountryFlag(opponent)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600 capitalize\",children:[match.round,\" \\u2022 \",new Date(match.completedAt).toLocaleDateString()]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold\",children:isTeamA?\"\".concat(match.scoreA,\"-\").concat(match.scoreB):\"\".concat(match.scoreB,\"-\").concat(match.scoreA)}),/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold \".concat(resultColor),children:result})]})]},match.id);})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow lg:col-span-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-gray-800\",children:\"Team Statistics\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-blue-600\",children:getCompletedMatches().length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600\",children:\"Matches Played\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-green-600\",children:getCompletedMatches().filter(m=>getMatchResult(m,team.id)==='Won').length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600\",children:\"Wins\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-red-600\",children:getCompletedMatches().filter(m=>getMatchResult(m,team.id)==='Lost').length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600\",children:\"Losses\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-yellow-600\",children:getCompletedMatches().filter(m=>getMatchResult(m,team.id)==='Draw').length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600\",children:\"Draws\"})]})]})})]})]})]});};export default TeamDashboard;","map":{"version":3,"names":["React","useState","useEffect","teamsAPI","matchesAPI","tournamentAPI","authAPI","jsx","_jsx","jsxs","_jsxs","TeamDashboard","team","setTeam","matches","setMatches","tournament","setTournament","loading","setLoading","selectedFormation","setSelectedFormation","startingXI","setStartingXI","substitutions","setSubstitutions","fetchTeamData","squad","organizeTeamSquad","token","localStorage","getItem","console","error","userResponse","getMe","currentUser","data","federationId","teamsRes","matchesRes","tournamentRes","Promise","all","getAll","getCurrent","userTeam","find","representativeId","id","teamMatches","filter","match","teamAId","teamBId","sort","a","b","ratingA","ratings","naturalPosition","ratingB","goalkeepers","player","defenders","includes","midfielders","attackers","formationMap","gk","def","mid","att","formation","selectedStartingXI","slice","length","remainingSpots","startingPlayerIds","Set","map","p","bestRemainingPlayers","has","push","startingXIWithNumbers","index","_objectSpread","jerseyNumber","substitutePlayers","getPlayerPositionsForFormation","formationPositions","getUpcomingMatches","status","getCompletedMatches","getMatchResult","teamId","isTeamA","scoreA","scoreB","getCountryFlag","countryName","flagMap","getPositionAbbreviation","position","positionMap","className","children","positions","country","manager","averageRating","currentRound","value","onChange","e","target","name","number","split","pop","isStarting","some","isSubstitute","concat","isCaptain","teamAName","round","teamBName","opponent","result","resultColor","charAt","Date","completedAt","toLocaleDateString","m"],"sources":["/Users/shine/Downloads/african-nations-league/frontend/src/pages/TeamDashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { teamsAPI, matchesAPI, tournamentAPI, authAPI } from '../services/api';\n\nconst TeamDashboard: React.FC = () => {\n  const [team, setTeam] = useState<any>(null);\n  const [matches, setMatches] = useState<any[]>([]);\n  const [tournament, setTournament] = useState<any>(null);\n  const [loading, setLoading] = useState(true);\n  const [selectedFormation, setSelectedFormation] = useState('4-4-2');\n  const [startingXI, setStartingXI] = useState<any[]>([]);\n  const [substitutions, setSubstitutions] = useState<any[]>([]);\n\n  useEffect(() => {\n    fetchTeamData();\n  }, []);\n\n  useEffect(() => {\n    if (team && team.squad) {\n      organizeTeamSquad();\n    }\n  }, [team, selectedFormation]);\n\n  const fetchTeamData = async () => {\n    try {\n      // Get the current user's federation ID from localStorage or API\n      const token = localStorage.getItem('token');\n      if (!token) {\n        console.error('No token found');\n        return;\n      }\n\n      // Get current user info to find their team\n      const userResponse = await authAPI.getMe();\n      const currentUser = userResponse.data;\n      \n      if (!currentUser?.federationId) {\n        console.error('No federation found for user');\n        return;\n      }\n\n      // Get ALL teams to find the one that belongs to this user\n      const [teamsRes, matchesRes, tournamentRes] = await Promise.all([\n        teamsAPI.getAll(),\n        matchesAPI.getAll(),\n        tournamentAPI.getCurrent()\n      ]);\n\n      // Find the team that belongs to the current user's federation\n      const userTeam = teamsRes.data.find((team: any) => \n        team.representativeId === currentUser.id\n      );\n\n      if (!userTeam) {\n        console.error('No team found for current user');\n        return;\n      }\n\n      setTeam(userTeam);\n      setTournament(tournamentRes.data);\n\n      // Filter matches for this specific team\n      const teamMatches = matchesRes.data.filter((match: any) => \n        match.teamAId === userTeam.id || match.teamBId === userTeam.id\n      );\n      setMatches(teamMatches);\n    } catch (error) {\n      console.error('Error fetching team data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n    const organizeTeamSquad = () => {\n    if (!team?.squad) return;\n\n    const squad = [...team.squad];\n    \n    // Sort ALL players by rating (highest first) regardless of position\n    squad.sort((a, b) => {\n        const ratingA = a.ratings[a.naturalPosition] || 0;\n        const ratingB = b.ratings[b.naturalPosition] || 0;\n        return ratingB - ratingA;\n    });\n\n    // Group players by position from the sorted list\n    const goalkeepers = squad.filter(player => player.naturalPosition === 'GK');\n    const defenders = squad.filter(player => ['CB', 'RB', 'LB', 'SW'].includes(player.naturalPosition));\n    const midfielders = squad.filter(player => ['CM', 'CDM', 'CAM', 'RM', 'LM', 'RW', 'LW'].includes(player.naturalPosition));\n    const attackers = squad.filter(player => ['ST', 'CF'].includes(player.naturalPosition));\n\n    // Select starting XI based on formation, taking the BEST players from each position\n    const formationMap: { [key: string]: { gk: number, def: number, mid: number, att: number } } = {\n        '4-4-2': { gk: 1, def: 4, mid: 4, att: 2 },\n        '4-3-3': { gk: 1, def: 4, mid: 3, att: 3 },\n        '4-2-3-1': { gk: 1, def: 4, mid: 5, att: 1 },\n        '3-5-2': { gk: 1, def: 3, mid: 5, att: 2 }\n    };\n\n    const formation = formationMap[selectedFormation];\n    \n    // Take the top players from each position group (they're already sorted by rating)\n    const selectedStartingXI = [\n        ...goalkeepers.slice(0, formation.gk),\n        ...defenders.slice(0, formation.def),\n        ...midfielders.slice(0, formation.mid),\n        ...attackers.slice(0, formation.att)\n    ];\n\n    // If we don't have enough players for the formation, fill with best available\n    if (selectedStartingXI.length < 11) {\n        const remainingSpots = 11 - selectedStartingXI.length;\n        const startingPlayerIds = new Set(selectedStartingXI.map(p => p.id));\n        const bestRemainingPlayers = squad\n        .filter(player => !startingPlayerIds.has(player.id))\n        .slice(0, remainingSpots);\n        \n        selectedStartingXI.push(...bestRemainingPlayers);\n    }\n\n    // Add jersey numbers\n    const startingXIWithNumbers = selectedStartingXI.map((player, index) => ({\n        ...player,\n        jerseyNumber: index + 1\n    }));\n\n    // The rest become substitutes - these should be the next best players\n    const startingPlayerIds = new Set(selectedStartingXI.map(p => p.id));\n    const substitutePlayers = squad\n        .filter(player => !startingPlayerIds.has(player.id))\n        .slice(0, 7) // Maximum 7 substitutes\n        .map((player, index) => ({\n        ...player,\n        jerseyNumber: 12 + index\n        }));\n\n    setStartingXI(startingXIWithNumbers);\n    setSubstitutions(substitutePlayers);\n    };\n\n  const getPlayerPositionsForFormation = () => {\n    const formationPositions: { [key: string]: { gk: number[], def: number[], mid: number[], att: number[] } } = {\n      '4-4-2': {\n        gk: [1],\n        def: [2, 3, 4, 5],\n        mid: [6, 7, 8, 9],\n        att: [10, 11]\n      },\n      '4-3-3': {\n        gk: [1],\n        def: [2, 3, 4, 5],\n        mid: [6, 7, 8],\n        att: [9, 10, 11]\n      },\n      '4-2-3-1': {\n        gk: [1],\n        def: [2, 3, 4, 5],\n        mid: [6, 7, 8, 9, 10],\n        att: [11]\n      },\n      '3-5-2': {\n        gk: [1],\n        def: [2, 3, 4],\n        mid: [5, 6, 7, 8, 9],\n        att: [10, 11]\n      }\n    };\n\n    return formationPositions[selectedFormation] || formationPositions['4-4-2'];\n  };\n\n  const getUpcomingMatches = () => {\n    return matches.filter(match => match.status === 'scheduled');\n  };\n\n  const getCompletedMatches = () => {\n    return matches.filter(match => match.status === 'completed');\n  };\n\n  const getMatchResult = (match: any, teamId: string) => {\n    if (match.status !== 'completed') return 'Pending';\n    \n    const isTeamA = match.teamAId === teamId;\n    const scoreA = match.scoreA;\n    const scoreB = match.scoreB;\n    \n    if (isTeamA) {\n      return scoreA > scoreB ? 'Won' : scoreA < scoreB ? 'Lost' : 'Draw';\n    } else {\n      return scoreB > scoreA ? 'Won' : scoreB < scoreA ? 'Lost' : 'Draw';\n    }\n  };\n\n  const getCountryFlag = (countryName: string) => {\n    const flagMap: { [key: string]: string } = {\n      'Nigeria': 'ðŸ‡³ðŸ‡¬', 'Egypt': 'ðŸ‡ªðŸ‡¬', 'South Africa': 'ðŸ‡¿ðŸ‡¦', 'Ghana': 'ðŸ‡¬ðŸ‡­',\n      'Morocco': 'ðŸ‡²ðŸ‡¦', 'Senegal': 'ðŸ‡¸ðŸ‡³', 'Ivory Coast': 'ðŸ‡¨ðŸ‡®', 'Cameroon': 'ðŸ‡¨ðŸ‡²'\n    };\n    return flagMap[countryName] || 'ðŸ´';\n  };\n\n  const getPositionAbbreviation = (position: string) => {\n    const positionMap: { [key: string]: string } = {\n      'GK': 'GK', 'CB': 'CB', 'RB': 'RB', 'LB': 'LB', 'SW': 'SW',\n      'CDM': 'DM', 'CM': 'CM', 'CAM': 'AM', 'RM': 'RM', 'LM': 'LM',\n      'RW': 'RW', 'LW': 'LW', 'ST': 'ST', 'CF': 'CF'\n    };\n    return positionMap[position] || position;\n  };\n\n  if (loading) {\n    return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"flex justify-center items-center h-64\">\n          <div className=\"text-xl\">Loading team dashboard...</div>\n        </div>\n      </div>\n    );\n  }\n\n  if (!team) {\n    return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"text-center\">\n          <h2 className=\"text-3xl font-bold text-gray-800 mb-4\">No Team Found</h2>\n          <p className=\"text-gray-600\">Please register a team to access the dashboard.</p>\n        </div>\n      </div>\n    );\n  }\n\n  const positions = getPlayerPositionsForFormation();\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      {/* Team Header */}\n      <div className=\"bg-white rounded-lg shadow-lg p-8 mb-8\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-6\">\n            <div className=\"text-6xl\">{getCountryFlag(team.country)}</div>\n            <div>\n              <h1 className=\"text-4xl font-bold text-gray-800\">{team.country}</h1>\n              <p className=\"text-xl text-gray-600\">Manager: {team.manager}</p>\n              <div className=\"flex items-center space-x-4 mt-2\">\n                <div className=\"bg-blue-100 text-blue-800 px-3 py-1 rounded-full font-semibold\">\n                  Rating: {team.averageRating}\n                </div>\n                <div className=\"bg-green-100 text-green-800 px-3 py-1 rounded-full font-semibold\">\n                  {team.squad.length} Players\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"text-right\">\n            <div className=\"text-sm text-gray-500\">Tournament Status</div>\n            <div className=\"text-lg font-semibold text-gray-800\">\n              {tournament ? tournament.currentRound : 'No Active Tournament'}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n        {/* Starting XI & Formation Section */}\n        <div className=\"bg-white rounded-lg shadow lg:col-span-2\">\n          <div className=\"px-6 py-4 border-b flex justify-between items-center\">\n            <h2 className=\"text-2xl font-semibold text-gray-800\">Starting XI & Formation</h2>\n            <select \n              value={selectedFormation} \n              onChange={(e) => setSelectedFormation(e.target.value)}\n              className=\"border rounded px-3 py-1\"\n            >\n              <option value=\"4-4-2\">4-4-2</option>\n              <option value=\"4-3-3\">4-3-3</option>\n              <option value=\"4-2-3-1\">4-2-3-1</option>\n              <option value=\"3-5-2\">3-5-2</option>\n            </select>\n          </div>\n          <div className=\"p-6\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n              {/* Starting XI List */}\n              <div className=\"lg:col-span-1\">\n                <div className=\"bg-gray-50 rounded-lg p-6\">\n                  <h3 className=\"text-xl font-bold mb-4 text-center\">STARTING XI</h3>\n                  <div className=\"space-y-2\">\n                    {startingXI.map((player) => (\n                      <div key={player.id} className=\"flex items-center justify-between py-2 border-b\">\n                        <span className=\"font-semibold w-8\">{player.jerseyNumber}.</span>\n                        <span className=\"flex-1 text-sm\">{player.name}</span>\n                        <span className=\"text-xs text-gray-600 bg-gray-200 px-2 py-1 rounded\">\n                          {getPositionAbbreviation(player.naturalPosition)}\n                        </span>\n                      </div>\n                    ))}\n                  </div>\n                  \n                  <div className=\"mt-6\">\n                    <h4 className=\"font-bold mb-2\">SUBSTITUTIONS</h4>\n                    <div className=\"grid grid-cols-2 gap-2\">\n                      {substitutions.map((player) => (\n                        <div key={player.id} className=\"text-sm\">\n                          {player.jerseyNumber}. {player.name}\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Football Field Visualization */}\n              <div className=\"lg:col-span-2\">\n                <div className=\"bg-green-600 rounded-lg p-4 relative h-96\">\n                  {/* Football Field */}\n                  <div className=\"absolute inset-4 border-2 border-white rounded-lg flex flex-col justify-between\">\n                    {/* Center circle */}\n                    <div className=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-16 h-16 border-2 border-white rounded-full\"></div>\n                    {/* Center line */}\n                    <div className=\"absolute top-1/2 left-0 right-0 border-t-2 border-white\"></div>\n                    \n                    {/* Players positioned based on formation */}\n                    <div className=\"absolute inset-0 p-4\">\n                      {/* Goalkeeper */}\n                      {positions.gk.map((number, index) => {\n                        const player = startingXI.find(p => p.jerseyNumber === number);\n                        return (\n                          <div key={number} className=\"absolute bottom-2 left-1/2 transform -translate-x-1/2\">\n                            <div className=\"bg-blue-500 text-white rounded-full w-12 h-12 flex items-center justify-center text-xs font-bold shadow-lg\">\n                              {player ? number : number}\n                            </div>\n                            {player && (\n                              <div className=\"text-xs text-white text-center mt-1 font-semibold bg-black bg-opacity-50 px-1 rounded\">\n                                {player.name.split(' ').pop()}\n                              </div>\n                            )}\n                          </div>\n                        );\n                      })}\n                      \n                      {/* Defenders */}\n                      <div className=\"absolute bottom-16 left-0 right-0 flex justify-around\">\n                        {positions.def.map((number) => {\n                          const player = startingXI.find(p => p.jerseyNumber === number);\n                          return (\n                            <div key={number} className=\"bg-blue-500 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-lg\">\n                              {player ? number : number}\n                            </div>\n                          );\n                        })}\n                      </div>\n                      \n                      {/* Midfielders */}\n                      <div className=\"absolute bottom-32 left-0 right-0 flex justify-around\">\n                        {positions.mid.map((number) => {\n                          const player = startingXI.find(p => p.jerseyNumber === number);\n                          return (\n                            <div key={number} className=\"bg-blue-500 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-lg\">\n                              {player ? number : number}\n                            </div>\n                          );\n                        })}\n                      </div>\n                      \n                      {/* Attackers */}\n                      <div className=\"absolute bottom-48 left-0 right-0 flex justify-around\">\n                        {positions.att.map((number) => {\n                          const player = startingXI.find(p => p.jerseyNumber === number);\n                          return (\n                            <div key={number} className=\"bg-blue-500 text-white rounded-full w-10 h-10 flex items-center justify-center text-xs font-bold shadow-lg\">\n                              {player ? number : number}\n                            </div>\n                          );\n                        })}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"mt-4 text-center text-sm text-gray-600\">\n                  Formation: {selectedFormation} â€¢ {startingXI.length}/11 Players Selected\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Squad Section */}\n        <div className=\"bg-white rounded-lg shadow\">\n          <div className=\"px-6 py-4 border-b\">\n            <h2 className=\"text-2xl font-semibold text-gray-800\">Full Squad</h2>\n          </div>\n          <div className=\"p-6\">\n            <div className=\"space-y-4 max-h-96 overflow-y-auto\">\n              {team.squad.map((player: any) => {\n                const isStarting = startingXI.some(p => p.id === player.id);\n                const isSubstitute = substitutions.some(p => p.id === player.id);\n                \n                return (\n                  <div \n                    key={player.id} \n                    className={`flex items-center justify-between p-4 border rounded-lg ${\n                      isStarting ? 'bg-blue-50 border-blue-200' : \n                      isSubstitute ? 'bg-green-50 border-green-200' : ''\n                    }`}\n                  >\n                    <div className=\"flex items-center space-x-4\">\n                      <div className=\"w-12 h-12 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold\">\n                        {getPositionAbbreviation(player.naturalPosition)}\n                      </div>\n                      <div>\n                        <div className=\"font-semibold text-lg\">{player.name}</div>\n                        <div className=\"text-sm text-gray-600\">\n                          {player.isCaptain && 'ðŸ‘‘ '}Natural {player.naturalPosition}\n                          {isStarting && ' â€¢ Starting'}\n                          {isSubstitute && ' â€¢ Substitute'}\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"text-right\">\n                      <div className=\"font-bold text-blue-600\">\n                        {player.ratings[player.naturalPosition]}\n                      </div>\n                      <div className=\"text-xs text-gray-500\">Rating</div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n\n        {/* Upcoming Matches */}\n        <div className=\"bg-white rounded-lg shadow\">\n          <div className=\"px-6 py-4 border-b\">\n            <h2 className=\"text-2xl font-semibold text-gray-800\">Upcoming Matches</h2>\n          </div>\n          <div className=\"p-6\">\n            {getUpcomingMatches().length === 0 ? (\n              <div className=\"text-center text-gray-500 py-8\">\n                No upcoming matches scheduled\n              </div>\n            ) : (\n              <div className=\"space-y-4\">\n                {getUpcomingMatches().map((match) => (\n                  <div key={match.id} className=\"p-4 border rounded-lg\">\n                    <div className=\"flex justify-between items-center\">\n                      <div className=\"text-center flex-1\">\n                        <div className=\"font-semibold\">{match.teamAName}</div>\n                        <div className=\"text-2xl\">{getCountryFlag(match.teamAName)}</div>\n                      </div>\n                      <div className=\"text-center mx-4\">\n                        <div className=\"text-sm text-gray-500\">VS</div>\n                        <div className=\"text-xs text-gray-400 capitalize\">{match.round}</div>\n                      </div>\n                      <div className=\"text-center flex-1\">\n                        <div className=\"font-semibold\">{match.teamBName}</div>\n                        <div className=\"text-2xl\">{getCountryFlag(match.teamBName)}</div>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Match History */}\n        <div className=\"bg-white rounded-lg shadow lg:col-span-2\">\n          <div className=\"px-6 py-4 border-b\">\n            <h2 className=\"text-2xl font-semibold text-gray-800\">Match History</h2>\n          </div>\n          <div className=\"p-6\">\n            {getCompletedMatches().length === 0 ? (\n              <div className=\"text-center text-gray-500 py-8\">\n                No matches played yet\n              </div>\n            ) : (\n              <div className=\"space-y-3\">\n                {getCompletedMatches().map((match) => {\n                  const isTeamA = match.teamAId === team.id;\n                  const opponent = isTeamA ? match.teamBName : match.teamAName;\n                  const result = getMatchResult(match, team.id);\n                  const resultColor = result === 'Won' ? 'text-green-600' : \n                                   result === 'Lost' ? 'text-red-600' : 'text-yellow-600';\n\n                  return (\n                    <div key={match.id} className=\"flex items-center justify-between p-4 border rounded-lg\">\n                      <div className=\"flex items-center space-x-4\">\n                        <div className={`w-16 h-16 rounded-full flex items-center justify-center font-bold text-white ${\n                          result === 'Won' ? 'bg-green-500' : \n                          result === 'Lost' ? 'bg-red-500' : 'bg-yellow-500'\n                        }`}>\n                          {result.charAt(0)}\n                        </div>\n                        <div>\n                          <div className=\"font-semibold text-lg\">\n                            vs {opponent} {getCountryFlag(opponent)}\n                          </div>\n                          <div className=\"text-sm text-gray-600 capitalize\">\n                            {match.round} â€¢ {new Date(match.completedAt).toLocaleDateString()}\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"text-right\">\n                        <div className=\"text-2xl font-bold\">\n                          {isTeamA ? `${match.scoreA}-${match.scoreB}` : `${match.scoreB}-${match.scoreA}`}\n                        </div>\n                        <div className={`font-semibold ${resultColor}`}>\n                          {result}\n                        </div>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Team Statistics */}\n        <div className=\"bg-white rounded-lg shadow lg:col-span-2\">\n          <div className=\"px-6 py-4 border-b\">\n            <h2 className=\"text-2xl font-semibold text-gray-800\">Team Statistics</h2>\n          </div>\n          <div className=\"p-6\">\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-6\">\n              <div className=\"text-center\">\n                <div className=\"text-3xl font-bold text-blue-600\">{getCompletedMatches().length}</div>\n                <div className=\"text-gray-600\">Matches Played</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-3xl font-bold text-green-600\">\n                  {getCompletedMatches().filter(m => getMatchResult(m, team.id) === 'Won').length}\n                </div>\n                <div className=\"text-gray-600\">Wins</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-3xl font-bold text-red-600\">\n                  {getCompletedMatches().filter(m => getMatchResult(m, team.id) === 'Lost').length}\n                </div>\n                <div className=\"text-gray-600\">Losses</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-3xl font-bold text-yellow-600\">\n                  {getCompletedMatches().filter(m => getMatchResult(m, team.id) === 'Draw').length}\n                </div>\n                <div className=\"text-gray-600\">Draws</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TeamDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}